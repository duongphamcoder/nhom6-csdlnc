{"ast":null,"code":"import { base64Map } from \"./base64Map.js\";\nimport { stringPad } from \"./stringPad.js\";\nimport { reverseVersion } from \"./reverseVersion.js\";\n/**\r\n * @private\r\n * @description Encodes a semVer-like version string\r\n * @param {string} semVer Input can be either x.y.z or x.y\r\n * @return {string} A string built from 3 characters of the base64 table that encode the semVer\r\n */\n\nexport function encodeVersion(semVer) {\n  let strResult = ''; // support x.y or x.y.z by using 'parts' as a variable\n\n  const parts = semVer.split('.').length;\n  const paddedStringLength = parts * 6; // we pad to either 12 or 18 characters\n  // reverse (but don't mirror) the version. 1.5.15 -> 15.5.1\n  // Pad to two spaces, 15.5.1 -> 15.05.01\n\n  const paddedReversedSemver = reverseVersion(semVer); // turn 15.05.01 to a string '150501' then to a number 150501\n\n  const num = parseInt(paddedReversedSemver.split('.').join('')); // Represent as binary, add left padding to 12 or 18 characters.\n  // 150,501 -> 100100101111100101\n\n  let paddedBinary = num.toString(2);\n  paddedBinary = stringPad(paddedBinary, paddedStringLength, '0'); // Stop in case an invalid version number was provided\n  // paddedBinary must be built from sections of 6 bits\n\n  if (paddedBinary.length % 6 !== 0) {\n    throw 'Version must be smaller than 43.21.26)';\n  } // turn every 6 bits into a character using the base64Map\n\n\n  paddedBinary.match(/.{1,6}/g).forEach(bitString => {\n    // console.log(bitString);\n    strResult += base64Map[bitString];\n  });\n  return strResult;\n}","map":{"version":3,"sources":["C:/Users/Pham Tan Duong/Desktop/nhom6-csdlnc/fashion/node_modules/@cloudinary/url-gen/sdkAnalytics/encodeVersion.js"],"names":["base64Map","stringPad","reverseVersion","encodeVersion","semVer","strResult","parts","split","length","paddedStringLength","paddedReversedSemver","num","parseInt","join","paddedBinary","toString","match","forEach","bitString"],"mappings":"AAAA,SAASA,SAAT,QAA0B,gBAA1B;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;AAClC,MAAIC,SAAS,GAAG,EAAhB,CADkC,CAElC;;AACA,QAAMC,KAAK,GAAGF,MAAM,CAACG,KAAP,CAAa,GAAb,EAAkBC,MAAhC;AACA,QAAMC,kBAAkB,GAAGH,KAAK,GAAG,CAAnC,CAJkC,CAII;AACtC;AACA;;AACA,QAAMI,oBAAoB,GAAGR,cAAc,CAACE,MAAD,CAA3C,CAPkC,CAQlC;;AACA,QAAMO,GAAG,GAAGC,QAAQ,CAACF,oBAAoB,CAACH,KAArB,CAA2B,GAA3B,EAAgCM,IAAhC,CAAqC,EAArC,CAAD,CAApB,CATkC,CAUlC;AACA;;AACA,MAAIC,YAAY,GAAGH,GAAG,CAACI,QAAJ,CAAa,CAAb,CAAnB;AACAD,EAAAA,YAAY,GAAGb,SAAS,CAACa,YAAD,EAAeL,kBAAf,EAAmC,GAAnC,CAAxB,CAbkC,CAclC;AACA;;AACA,MAAIK,YAAY,CAACN,MAAb,GAAsB,CAAtB,KAA4B,CAAhC,EAAmC;AAC/B,UAAM,wCAAN;AACH,GAlBiC,CAmBlC;;;AACAM,EAAAA,YAAY,CAACE,KAAb,CAAmB,SAAnB,EAA8BC,OAA9B,CAAuCC,SAAD,IAAe;AACjD;AACAb,IAAAA,SAAS,IAAIL,SAAS,CAACkB,SAAD,CAAtB;AACH,GAHD;AAIA,SAAOb,SAAP;AACH","sourcesContent":["import { base64Map } from \"./base64Map.js\";\r\nimport { stringPad } from \"./stringPad.js\";\r\nimport { reverseVersion } from \"./reverseVersion.js\";\r\n/**\r\n * @private\r\n * @description Encodes a semVer-like version string\r\n * @param {string} semVer Input can be either x.y.z or x.y\r\n * @return {string} A string built from 3 characters of the base64 table that encode the semVer\r\n */\r\nexport function encodeVersion(semVer) {\r\n    let strResult = '';\r\n    // support x.y or x.y.z by using 'parts' as a variable\r\n    const parts = semVer.split('.').length;\r\n    const paddedStringLength = parts * 6; // we pad to either 12 or 18 characters\r\n    // reverse (but don't mirror) the version. 1.5.15 -> 15.5.1\r\n    // Pad to two spaces, 15.5.1 -> 15.05.01\r\n    const paddedReversedSemver = reverseVersion(semVer);\r\n    // turn 15.05.01 to a string '150501' then to a number 150501\r\n    const num = parseInt(paddedReversedSemver.split('.').join(''));\r\n    // Represent as binary, add left padding to 12 or 18 characters.\r\n    // 150,501 -> 100100101111100101\r\n    let paddedBinary = num.toString(2);\r\n    paddedBinary = stringPad(paddedBinary, paddedStringLength, '0');\r\n    // Stop in case an invalid version number was provided\r\n    // paddedBinary must be built from sections of 6 bits\r\n    if (paddedBinary.length % 6 !== 0) {\r\n        throw 'Version must be smaller than 43.21.26)';\r\n    }\r\n    // turn every 6 bits into a character using the base64Map\r\n    paddedBinary.match(/.{1,6}/g).forEach((bitString) => {\r\n        // console.log(bitString);\r\n        strResult += base64Map[bitString];\r\n    });\r\n    return strResult;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}